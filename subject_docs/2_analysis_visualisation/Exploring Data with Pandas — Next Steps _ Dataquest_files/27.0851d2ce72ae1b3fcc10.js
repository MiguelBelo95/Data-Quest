(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{1447:
/*!***********************************************************!*\
  !*** ./src/views/LessonView/LessonEndView.js + 1 modules ***!
  \***********************************************************/
/*! exports provided: LessonEndView, default */
/*! all exports used */
/*! ModuleConcatenation bailout: Cannot concat with ./src/components/HOC/withContent.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/components/HOC/withPathInfo.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/components/common/elements/DqButton/DqButton.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/components/common/feedback/DqLoading/DqLoading.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/components/common/feedback/DqSpinner/DqSpinner.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/helpers/events_tracker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/helpers/make_lesson_url.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/redux/modules/catalog_info/catalog_info.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/redux/modules/lesson_end_info/lesson_end_info.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/redux/modules/lesson_info/lesson_info.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/redux/modules/progress/progress.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/redux/modules/steps_info/steps_info.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/redux/modules/user_info/user_info.js */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/classnames/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/dayjs/dayjs.min.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/lodash/filter.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/lodash/findIndex.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/lodash/fp/compose.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/lodash/pick.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/pluralize/pluralize.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/react-icons/io5/index.esm.js (<- Module is referenced from these modules with unsupported syntax: ./node_modules/@dataquestio/dq-components/components/common/feedback/dialog/DqAlertDialog.js (referenced with cjs require)) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/react-redux/es/index.js (<- Module is referenced from these modules with unsupported syntax: ./node_modules/redux-auth-wrapper/helper/redirect.js (referenced with cjs require)) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/react/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/reselect/lib/index.js (<- Module is not an ECMAScript module) */function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),o=(n(4),n(23)),s=n(10),i=n(717),l=n.n(i),c=n(42),u=n.n(c),m=n(760),p=n(745),d=n(57),f=n(45),g=n(713),y=n.n(g),h=n(9),b=n.n(h),v=n(782),q=n.n(v),w=n(173),_=n.n(w),E=n(35),O=n(16),I=n(174);function j(e){return function(e){if(Array.isArray(e))return P(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||$(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],s=!0,i=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(e){i=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(i)throw a}}return o}(e,t)||$(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){if(e){if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var S=function(e){var t=e.lessonInfo,n=e.course,o=e.lessonStepsCompleted,s=e.nextLessonUrl,i=e.goToStep,l=x(Object(r.useState)([]),2),c=l[0],u=l[1],m=x(Object(r.useState)(!0),2),p=m[0],d=m[1],f="practice_problem"===t.overall_type,g=_()(o,(function(e){return!1===e}));Object(r.useEffect)((function(){var e=j(o);t.hasReview&&e.pop(),u(q()(e,(function(e){return!0===e})))}),[t,o]),Object(r.useEffect)((function(){d(c.length===t.screen_count)}),[c,t]);var h;return a.a.createElement("div",{className:"dq-bg-gray-800 dq-text-white dq-min-h-full dq-py-5"},a.a.createElement("div",{className:"dq-flex dq-flex-col dq-items-center dq-max-w-lg dq-mx-auto"},a.a.createElement("div",{className:"dq-text-center dq-mb-5"},function(){if(p)return a.a.createElement(a.a.Fragment,null,a.a.createElement("h2",{className:"dq-font-bold"},"Congratulations!"),a.a.createElement("h4",null,"You've completed this ",f?"practice":"lesson","."));var e=t.screen_count-c.length;return a.a.createElement(a.a.Fragment,null,a.a.createElement("h2",{className:"dq-font-bold"},"Only ",e," ",y()("step",e)," to go."),a.a.createElement("h4",null,"Go back to the remaining ",y()("step",e)," to",a.a.createElement("br",null),"complete this lesson."))}()),p&&a.a.createElement("div",{className:"dq-bg-white dq-w-full dq-p-2 dq-mb-10 dq-text-center"},a.a.createElement("h4",{className:"dq-text-gray-800"},t.title),a.a.createElement("h4",{className:"dq-text-purple"},t.screen_count," steps completed")),f?a.a.createElement(O.a,{text:"Finish",to:"/practice"}):a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:b()("dq-w-full dq-border-2 dq-border-gray-400 dq-py-5 dq-mb-10",{"dq-mt-10":!p})},n.title?a.a.createElement(a.a.Fragment,null,a.a.createElement("p",{className:"dq-px-5 dq-mb-2 dq-text-lg dq-font-bold dq-text-center"},n.title," ",a.a.createElement("span",{className:"dq-text-purple dq-ml-1"},Math.round(100*n.progress),"%")),p?a.a.createElement("ul",null,null===(h=n.missions)||void 0===h?void 0:h.map((function(e){var t=e.progress>=1;return a.a.createElement("li",{key:e.sequence,className:b()("dq-px-5 dq-py-2",{"dq-text-gray-400":t})},e.title," ·"," ",t?a.a.createElement("span",{className:"dq-text-purple"},"Completed"):a.a.createElement("span",{className:"dq-text-gray-400"},e.screen_count," steps"))}))):a.a.createElement("p",{className:"dq-text-lg dq-font-bold dq-text-center"},t.screen_count," steps ·"," ",a.a.createElement("span",{className:"dq-text-purple"},c.length," completed"))):a.a.createElement(I.a,{className:"dq-mx-auto"})),p?a.a.createElement(O.a,{text:"Next Lesson",endIcon:a.a.createElement(E.IoArrowForwardSharp,null),to:s}):a.a.createElement(O.a,{text:"Back to step ".concat(g+1),endIcon:a.a.createElement(E.IoArrowForwardSharp,null),onClick:function(){return i(g)}}))))};S.displayName="LessonEnd",S.__docgenInfo={description:"",methods:[],displayName:"LessonEnd",props:{lessonInfo:{required:!0,flowType:{name:"signature",type:"object",raw:"{\n  sequence: string,\n  title: string,\n  overall_type: string,\n  screen_count: number,\n  hasReview: Boolean,\n}",signature:{properties:[{key:"sequence",value:{name:"string",required:!0}},{key:"title",value:{name:"string",required:!0}},{key:"overall_type",value:{name:"string",required:!0}},{key:"screen_count",value:{name:"number",required:!0}},{key:"hasReview",value:{name:"Boolean",required:!0}}]}},description:""},course:{required:!0,flowType:{name:"signature",type:"object",raw:"{\n  title: string,\n  progress: number,\n  missions: Array<{\n    sequence: string,\n    title: string,\n    screen_count: number,\n    progress: number,\n  }>,\n}",signature:{properties:[{key:"title",value:{name:"string",required:!0}},{key:"progress",value:{name:"number",required:!0}},{key:"missions",value:{name:"Array",elements:[{name:"signature",type:"object",raw:"{\n  sequence: string,\n  title: string,\n  screen_count: number,\n  progress: number,\n}",signature:{properties:[{key:"sequence",value:{name:"string",required:!0}},{key:"title",value:{name:"string",required:!0}},{key:"screen_count",value:{name:"number",required:!0}},{key:"progress",value:{name:"number",required:!0}}]}}],raw:"Array<{\n  sequence: string,\n  title: string,\n  screen_count: number,\n  progress: number,\n}>",required:!0}}]}},description:""},lessonStepsCompleted:{required:!0,flowType:{name:"Array",elements:[{name:"boolean"}],raw:"Array<boolean>"},description:""},nextLessonUrl:{required:!0,flowType:{name:"string"},description:""},goToStep:{required:!0,flowType:{name:"Function"},description:""}}};var N=S,k=n(263),L=n(14),T=n(52),C=n(708),A=n(223),F=n(971),D=n(709),R=n(64),U=n.n(R);function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function J(e,t){return(J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=W(e);if(t){var a=W(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return H(this,n)}}function H(e,t){if(t&&("object"===M(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){Q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"LessonEndView",(function(){return ee}));var K=Y(Y(Y(Y({},C.c),F.b),u()(D.b,["step_list"])),{},{userJoinedAt:L.b.date_joined,featureFlags:L.b.featureFlags,courseForPage:A.b.course_for_page,lessonStepsCompleted:T.b.lessonStepsCompleted}),X=Y(Y({},F.a),{},{setupLesson:C.b.setupLesson,fetchCourse:A.a.fetch_a_course,directly_to_step:D.a.directly_to_step}),Z=Object(s.createStructuredSelector)(K),ee=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&J(e,t)}(s,e);var t,n,r,o=B(s);function s(){return z(this,s),o.apply(this,arguments)}return t=s,(n=[{key:"componentDidMount",value:function(){this.fetchLessonEndInfo()}},{key:"componentDidUpdate",value:function(e){e.lessonInfo.title!==this.props.lessonInfo.title&&this.fetchLessonEndInfo()}},{key:"getIsReady",value:function(){var e;return this.props.isLoadingLessonEndInfo||this.props.lessonInfo.title&&(null===(e=this.props.step_list)||void 0===e?void 0:e.length)>0}},{key:"fetchLessonEndInfo",value:function(){var e=this,t=parseInt(this.props.lessonInfo.sequence,10),n=this.props.lessonInfo.isAssessment?t-2e6:t;if(!t)return null;this.props.getEndInfo(n,this.props.lessonInfo.course_sequence,this.props.lessonInfo.path_sequence).then((function(t){var r;e.props.getEndProgress(n,null===(r=t.payload.in_course)||void 0===r?void 0:r.slug,e.props.lessonInfo.path_sequence).then((function(t){var n=U()(t.payload.missionTimeCompleted),r=U()(Date.now()).diff(n,"hours"),a=U()(t.payload.in_course.timeCompleted),o=U()(Date.now()).diff(a,"hours"),s=U()(t.payload.pathTimeCompleted),i=U()(Date.now()).diff(s,"hours");t.payload.mission_progress>=1&&(!r||r<1)&&f.a.track("mission_complete",{mission_sequence:e.props.lessonInfo.sequence,mission_type:e.props.lessonInfo.type,course_sequence:e.props.lessonInfo.course_sequence,path_sequence:e.props.lessonInfo.path_sequence,trackingActive:Object(f.b)(e.props.userJoinedAt),completedAt:n},{version:3}),t.payload.in_course.progress>=1&&(!o||o<1)&&f.a.track("course_complete",{course_sequence:e.props.lessonInfo.course_sequence,path_sequence:e.props.lessonInfo.path_sequence,trackingActive:Object(f.b)(e.props.userJoinedAt),completedAt:a},{version:3}),t.payload.path_progress>=1&&(!i||i<1)&&f.a.track("path_complete",{path_sequence:e.props.lessonInfo.path_sequence,trackingActive:Object(f.b)(e.props.userJoinedAt),completedAt:s},{version:3})})),e.props.fetchCourse(null,e.props.lessonInfo.course_sequence)}))}},{key:"render",value:function(){return this.getIsReady()?a.a.createElement("div",{className:"dq-w-full dq-inset-y-0 dq-absolute","data-test-selector":"MissionView"},a.a.createElement(N,{lessonInfo:this.props.lessonInfo,course:this.props.courseForPage,lessonStepsCompleted:this.props.lessonStepsCompleted,nextLessonUrl:Object(k.a)(this.props.lessonNext,{},!0,this.props.getPathInfo()),goToStep:this.props.directly_to_step})):a.a.createElement(d.a,{fullScreen:!0})}}])&&V(t.prototype,n),r&&V(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(a.a.PureComponent);ee.displayName="LessonEndView";var te=l()(Object(o.connect)(Z,X),Object(m.a)({checkPaywall:!0}),p.a);ee.__docgenInfo={description:"",methods:[{name:"getIsReady",docblock:null,modifiers:[],params:[],returns:null},{name:"fetchLessonEndInfo",docblock:null,modifiers:[],params:[],returns:null}],displayName:"LessonEndView",props:{lessonInfo:{type:{name:"shape",value:{title:{name:"string",required:!0},meta_description:{name:"string",required:!0},meta_title:{name:"string",required:!0},type:{name:"string",required:!0},sequence:{name:"string",required:!0},course_sequence:{name:"string",required:!0},path_sequence:{name:"string",required:!0},isAssessment:{name:"bool",required:!0}}},required:!0,description:""},lessonNext:{type:{name:"shape",value:{type:{name:"string",required:!0},sequence:{name:"string",required:!0}}},required:!0,description:""},userJoinedAt:{type:{name:"string"},required:!0,description:""},step_list:{type:{name:"array"},required:!0,description:""},in_course:{type:{name:"shape",value:{slug:{name:"string",required:!0}}},required:!0,description:""},courseForPage:{type:{name:"shape",value:{title:{name:"string",required:!1},missions:{name:"array",required:!1}}},required:!1,description:""},lessonStepsCompleted:{type:{name:"array"},required:!0,description:""},isLoadingLessonEndInfo:{type:{name:"bool"},required:!0,description:""},match:{type:{name:"shape",value:{params:{name:"shape",value:{mission_num:{name:"string",required:!1},step_num:{name:"string",required:!1}},required:!1}}},required:!0,description:""},getEndInfo:{type:{name:"func"},required:!0,description:""},getEndProgress:{type:{name:"func"},required:!0,description:""},getPathInfo:{type:{name:"func"},required:!0,description:""},fetchCourse:{type:{name:"func"},required:!0,description:""},directly_to_step:{type:{name:"func"},required:!0,description:""}}};t.default=te(ee)},713:
/*!*********************************************!*\
  !*** ./node_modules/pluralize/pluralize.js ***!
  \*********************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){e.exports=function(){var e=[],t=[],n={},r={},a={};function o(e){return"string"==typeof e?new RegExp("^"+e+"$","i"):e}function s(e,t){return e===t?t:e===e.toLowerCase()?t.toLowerCase():e===e.toUpperCase()?t.toUpperCase():e[0]===e[0].toUpperCase()?t.charAt(0).toUpperCase()+t.substr(1).toLowerCase():t.toLowerCase()}function i(e,t){return e.replace(/\$(\d{1,2})/g,(function(e,n){return t[n]||""}))}function l(e,t){return e.replace(t[0],(function(n,r){var a=i(t[1],arguments);return s(""===n?e[r-1]:n,a)}))}function c(e,t,r){if(!e.length||n.hasOwnProperty(e))return t;for(var a=r.length;a--;){var o=r[a];if(o[0].test(t))return l(t,o)}return t}function u(e,t,n){return function(r){var a=r.toLowerCase();return t.hasOwnProperty(a)?s(r,a):e.hasOwnProperty(a)?s(r,e[a]):c(a,r,n)}}function m(e,t,n,r){return function(r){var a=r.toLowerCase();return!!t.hasOwnProperty(a)||!e.hasOwnProperty(a)&&c(a,a,n)===a}}function p(e,t,n){return(n?t+" ":"")+(1===t?p.singular(e):p.plural(e))}return p.plural=u(a,r,e),p.isPlural=m(a,r,e),p.singular=u(r,a,t),p.isSingular=m(r,a,t),p.addPluralRule=function(t,n){e.push([o(t),n])},p.addSingularRule=function(e,n){t.push([o(e),n])},p.addUncountableRule=function(e){"string"!=typeof e?(p.addPluralRule(e,"$0"),p.addSingularRule(e,"$0")):n[e.toLowerCase()]=!0},p.addIrregularRule=function(e,t){t=t.toLowerCase(),e=e.toLowerCase(),a[e]=t,r[t]=e},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"]].forEach((function(e){return p.addIrregularRule(e[0],e[1])})),[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach((function(e){return p.addPluralRule(e[0],e[1])})),[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach((function(e){return p.addSingularRule(e[0],e[1])})),["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","species","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[eé]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i].forEach(p.addUncountableRule),p}()},715:
/*!*****************************************!*\
  !*** ./node_modules/lodash/debounce.js ***!
  \*****************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! ./isObject */63),a=n(/*! ./now */748),o=n(/*! ./toNumber */221),s=Math.max,i=Math.min;e.exports=function(e,t,n){var l,c,u,m,p,d,f=0,g=!1,y=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function b(t){var n=l,r=c;return l=c=void 0,f=t,m=e.apply(r,n)}function v(e){return f=e,p=setTimeout(w,t),g?b(e):m}function q(e){var n=e-d;return void 0===d||n>=t||n<0||y&&e-f>=u}function w(){var e=a();if(q(e))return _(e);p=setTimeout(w,function(e){var n=t-(e-d);return y?i(n,u-(e-f)):n}(e))}function _(e){return p=void 0,h&&l?b(e):(l=c=void 0,m)}function E(){var e=a(),n=q(e);if(l=arguments,c=this,d=e,n){if(void 0===p)return v(d);if(y)return clearTimeout(p),p=setTimeout(w,t),b(d)}return void 0===p&&(p=setTimeout(w,t)),m}return t=o(t)||0,r(n)&&(g=!!n.leading,u=(y="maxWait"in n)?s(o(n.maxWait)||0,t):u,h="trailing"in n?!!n.trailing:h),E.cancel=function(){void 0!==p&&clearTimeout(p),f=0,l=d=c=p=void 0},E.flush=function(){return void 0===p?m:_(a())},E}},730:
/*!*****************************************!*\
  !*** ./node_modules/lodash/throttle.js ***!
  \*****************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! ./debounce */715),a=n(/*! ./isObject */63);e.exports=function(e,t,n){var o=!0,s=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return a(n)&&(o="leading"in n?!!n.leading:o,s="trailing"in n?!!n.trailing:s),r(e,t,{leading:o,maxWait:t,trailing:s})}},741:
/*!*************************************!*\
  !*** ./src/utils/hooks/previous.js ***!
  \*************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var r=n(/*! react */1),a=n.n(r);t.a=function(e){var t=a.a.useRef();return a.a.useEffect((function(){t.current=e})),t.current}},746:
/*!******************************************!*\
  !*** ./src/views/LessonView/tracking.js ***!
  \******************************************/
/*! exports provided: LessonPaywallTracking */
/*! exports used: LessonPaywallTracking */function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(/*! helpers/events_tracker */45),a={paywallView:function(e){var t=e.paywall_type,n=e.location,a=e.lessonInfo,o=e.featureFlags,s=void 0===o?{}:o;try{r.a.track("paywall_view",{paywall_type:t,paywall_location:n,mission_sequence:a.sequence,course_sequence:a.course_sequence,path_sequence:a.path_sequence,featureFlags:s},{version:3})}catch(e){console.error("error sending event",e)}}}},748:
/*!************************************!*\
  !*** ./node_modules/lodash/now.js ***!
  \************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! ./_root */74);e.exports=function(){return r.Date.now()}},759:
/*!***************************************************************!*\
  !*** ./src/views/LessonView/LessonPaywallView.js + 1 modules ***!
  \***************************************************************/
/*! exports provided: actions, default */
/*! exports used: default */
/*! ModuleConcatenation bailout: Cannot concat with ./src/components/common/elements/DqButton/DqButton.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/components/common/feedback/dialog/DqAlertDialog.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/components/common/layout/DqCard/DqCard.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/components/unique/DqFooter/DqFooter.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/helpers/constants.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/helpers/price_helpers.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/redux/modules/lesson_info/lesson_info.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/redux/modules/plan_info/plan_info.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/redux/modules/steps_info/steps_info.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/redux/modules/team_info/team_info.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/redux/modules/user_info/user_info.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/utils/sanitation.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/views/LessonView/tracking.js because of ./src/components/common/paywall/DqPaywallDialog/DqPaywallDialog.js */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/lodash/debounce.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/react-device-detect/main.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/react-icons/io5/index.esm.js (<- Module is referenced from these modules with unsupported syntax: ./node_modules/@dataquestio/dq-components/components/common/feedback/dialog/DqAlertDialog.js (referenced with cjs require)) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/react-redux/es/index.js (<- Module is referenced from these modules with unsupported syntax: ./node_modules/redux-auth-wrapper/helper/redirect.js (referenced with cjs require)) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/react/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/reselect/lib/index.js (<- Module is not an ECMAScript module) */function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(715),s=n.n(o),i=n(731),l=n(23),c=n(10),u=n(708),m=n(709),p=n(262),d=n(14),f=n(220),g=n(35),y=n(219),h=n(746),b=n(119),v=n(116),q=n(16),w=n(167),_=n(139),E=function(e){var t=e.features,n=a.a.useCallback((function(e){return e.replace(/\d+/,(function(e){return"<b>".concat(e,"</b>")}))}),[]);return t.map((function(e){return a.a.createElement("div",{className:"dq-p-2 dq-mb-2 dq-bg-gray-50 dq-text-sm last:dq-mb-0",key:e.text},a.a.createElement("p",{className:"dq-inline-flex dq-items-center"},a.a.createElement(g.IoCheckmarkCircleSharp,{className:"dq-mr-1 dq-text-base"})," ",e.text),e.highlights&&a.a.createElement("p",{className:"dq-ml-5"},e.highlights.map((function(e){return a.a.createElement("span",{key:e,className:"dq-mr-2",dangerouslySetInnerHTML:{__html:Object(_.a)(n(e))}})}))))}))},O=n(15);function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],s=!0,i=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(e){i=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var x={stepsInfo:m.b.steps_info,lessonInfo:u.c.lessonInfo,featureFlags:d.b.featureFlags,isTeamMember:d.b.is_teammember,teamId:d.b.team_id,hasTeamAdminAccess:d.b.hasTeamAdminAccess,plans:p.b.plans},$={leaveTeam:f.a.leave_team},P=Object(c.createStructuredSelector)(x),S=function(e){var t=e.lessonInfo,n=e.stepsInfo,o=e.plans,l=e.featureFlags,c=e.isTeamMember,u=e.teamId,m=e.leaveTeam,p=e.hasTeamAdminAccess,d=Object(r.useRef)(null),f=I(Object(r.useState)(i.isMobileOnly?0:36),2),_=f[0],j=f[1],x="dq-mb-4 last:dq-mb-0",$=Object(y.c)(o.premium.annual.discounted||o.premium.annual.by_month);Object(r.useEffect)((function(){return h.a.paywallView({paywall_type:"hard",location:window.location.href,lessonInfo:t,featureFlags:l}),i.isMobileOnly||window.addEventListener("scroll",P,!0),function(){return window.removeEventListener("scroll",P,!0)}}),[]);var P=s()((function(e){var t=e.target,n=t.scrollHeight-296;t.scrollTop+d.current.clientHeight<n&&j(t.scrollTop+36)}),10),S=function(e){return a.a.createElement("p",{className:"dq-mb-4 dq-uppercase dq-text-sm dq-font-bold"},e)};return a.a.createElement("div",{className:"dq-relative","data-test-selector":"paywall"},a.a.createElement("div",{className:"dq-bg-gray-800 dq-pt-6 dq-pb-24 dq-px-4 dq-text-white lg:dq-px-0"},a.a.createElement("div",{className:"dq-max-w-7xl dq-mx-auto"},a.a.createElement("div",{className:"md:dq-w-1/2 md:dq-mx-0 lg:dq-w-3/5"},a.a.createElement("div",{className:"dq-uppercase dq-text-gray-400 dq-font-bold"},"LESSON"),a.a.createElement("h3",{className:"dq-font-bold"},t.title),a.a.createElement("p",null,t.description)))),a.a.createElement("div",{className:"dq-max-w-7xl dq-mx-auto dq--mt-16 dq-px-4 lg:dq-px-0"},a.a.createElement("div",{className:"md:dq-w-1/2 md:dq-mx-0 lg:dq-w-3/5"},t.learn.length>0&&a.a.createElement(v.a,{className:"dq-mb-6"},S("YOU WILL LEARN HOW TO"),a.a.createElement("ul",null,t.learn.map((function(e){return a.a.createElement("li",{key:e.text,className:x},a.a.createElement(g.IoCheckmarkSharp,{className:"dq-inline-block dq-mr-1 dq-text-green"})," ",e.text)})))),a.a.createElement(v.a,{className:"dq-mb-6 md:dq-absolute md:dq-w-1/2 md:dq-left-1/2 md:dq-ml-4 lg:dq-w-2/5 lg:dq-left-3/5 lg:dq-max-w-md",style:{top:"".concat(_,"px")}},c&&a.a.createElement("div",{ref:d},a.a.createElement("h3",{className:"dq-text-blue dq-mb-4 dq-font-bold dq-flex dq-space-x-2 dq-items-center dq-justify-center"},"Premium content ",a.a.createElement(g.IoLockClosedSharp,null)),a.a.createElement("p",{className:"dq-text-center dq-mb-2"},"This content requires a Premium Subscription."),p&&a.a.createElement(q.a,{text:"Upgrade",href:O.t,className:"dq-w-full dq-mt-4","data-test-selector":"upgrade-btn"}),!p&&a.a.createElement(a.a.Fragment,null,a.a.createElement("p",{className:"dq-text-center"},"Reach out to your account administrator to request access. If you are no longer a member of this team, you can leave this team."),a.a.createElement(w.a,{toggleEl:a.a.createElement(q.a,{color:"error",text:"Leave team",className:"dq-w-full dq-mt-4","data-test-selector":"leave-team"}),handleOnConfirm:function(){return m(u)},message:"Doing this will convert this account to an individual account. All progress and access will be maintained.",actionsConfirmText:"Leave",title:"Leave team"}))),!c&&a.a.createElement("div",{ref:d},a.a.createElement("h3",{className:"dq-mb-4 dq-font-bold dq-text-center"},"This content is exclusive to our"," ",a.a.createElement("span",{className:"dq-text-blue"},"premium subscribers")),a.a.createElement("p",{className:"dq-mb-5 dq-text-center"},"Get access to this and +353 lessons"," ",a.a.createElement("span",{className:"dq-font-bold"},"for only $",$)," ","per month"),a.a.createElement("div",{className:"dq-max-w-sm dq-mx-auto dq-mb-6 md:dq-max-w-full"},a.a.createElement(E,{features:o.premium.monthly.features})),a.a.createElement(q.a,{text:"Get access now",to:"/payment",className:"dq-w-full","data-test-selector":"upgrade-btn"}))),t.interesting_data.length>0&&a.a.createElement(v.a,{className:"dq-mb-6"},S("Analyzing REAL Data SETS"),a.a.createElement("ul",null,t.interesting_data.map((function(e){return a.a.createElement("li",{key:e,className:x},a.a.createElement(g.IoServerSharp,{className:"dq-inline-block dq-mr-1 dq-text-green"})," ",e)})))),t.in_paths.length>0&&a.a.createElement(v.a,{className:"dq-mb-6"},S("INCLUDED IN PATHS"),a.a.createElement("ul",{className:"dq-list-disc dq-list-inside"},t.in_paths.map((function(e){return a.a.createElement("li",{key:e.title,className:x},a.a.createElement(q.a,{to:"/path/".concat(e.slug),text:e.title,variant:"text"}))})))),n.length>0&&a.a.createElement(v.a,{className:"dq-mb-6"},S("LESSON OUTLINE"),a.a.createElement("ul",{className:"dq-list-decimal dq-list-inside"},n.map((function(e){return a.a.createElement("li",{key:e.title,className:x},e.title)})))))),a.a.createElement(b.a,null))};S.displayName="LessonPaywallView",S.__docgenInfo={description:"",methods:[],displayName:"LessonPaywallView",props:{lessonInfo:{required:!0,flowType:{name:"Lesson"},description:""},stepsInfo:{required:!0,flowType:{name:"tuple",raw:"[]",elements:[]},description:""},plans:{required:!0,flowType:{name:"PlansState"},description:""},featureFlags:{required:!0,flowType:{name:"signature",type:"object",raw:"{}",signature:{properties:[]}},description:""},isTeamMember:{required:!0,flowType:{name:"boolean"},description:""},hasTeamAdminAccess:{required:!0,flowType:{name:"boolean"},description:""},teamId:{required:!0,flowType:{name:"number"},description:""},leaveTeam:{required:!0,flowType:{name:"signature",type:"function",raw:"number => void",signature:{arguments:[{name:"",type:{name:"number"}}],return:{name:"void"}}},description:""}}};t.a=Object(l.connect)(P,$)(S)},760:
/*!*******************************************!*\
  !*** ./src/components/HOC/withContent.js ***!
  \*******************************************/
/*! exports provided: withContent, default */
/*! exports used: default */function(e,t,n){"use strict";var r=n(/*! react */1),a=n.n(r),o=(n(/*! prop-types */4),n(/*! react-redux */23)),s=n(/*! reselect */10),i=n(/*! lodash/get */12),l=n.n(i),c=n(/*! lodash/fp/compose */717),u=n.n(c),m=n(/*! views/LessonView/LessonPaywallView */759),p=n(/*! components/auth/AuthForm/AuthForm */749),d=n(/*! components/unique/DqFooter */119),f=n(/*! components/marketing/NotThereSplash */267),g=n(/*! components/HOC/withPathInfo */745),y=n(/*! components/marketing/SEO */75),h=n(/*! helpers/make_lesson_url */263),b=n(/*! helpers/constants */15),v=n(/*! redux/modules/lesson_info */708),q=n(/*! redux/modules/steps_info */709),w=n(/*! redux/modules/user_info */14),_=n(/*! utils/hooks/previous */741);function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],s=!0,i=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(e){i=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var P={lessonInfo:v.c.lessonInfo,lessonSEOPaywall:v.c.lessonSEOPaywall,lessonNotFound:v.c.lessonNotFound,current_step_index:q.b.current_step_index,current_step_info:q.b.current_step_info,step_list:q.b.step_list,isLoggedIn:w.b.is_logged_in,isTeamMember:w.b.is_teammember,featureFlags:w.b.featureFlags},S={setupLesson:v.b.setupLesson},N=Object(s.createStructuredSelector)(P);t.a=function(e){return u()(Object(o.connect)(N,S),function(e){return function(t){return Object(g.a)((function(n){var r,o=e.checkPaywall,s=e.contentType,i=e.isAssessment,c=void 0!==i&&i,u=Object(_.a)(n.isLoggedIn),g=x(a.a.useState({sequence:null,loading:!1}),2),v=g[0],q=g[1];a.a.useEffect((function(){var e,t;null!==(e=n.location)&&void 0!==e&&null!==(t=e.state)&&void 0!==t&&t.slug&&window.localStorage.setItem(b.l,n.location.state.slug)}),[n.location]);var w=a.a.useCallback((function(){var e,t=null===(e=n.step_list)||void 0===e?void 0:e.length;return n.lessonInfo&&n.lessonInfo.isAssessment&&(t+=1),Object(h.a)(n.lessonInfo,{step_index:t,step_title:"the-end"},n.isLoggedIn,n.getPathInfo())}),[n.lessonInfo,n.step_list,n.isLoggedIn,n.getPathInfo]),O=a.a.useCallback((function(e){var t,r=e.mission_num,a=e.step_num,o=e.course_num,s=e.path_num,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l=n.setupLesson;return i||r&&r!==(null===(t=n.lessonInfo)||void 0===t?void 0:t.sequence)?l({mission_num:r,step_num:a,course_num:o,path_num:s||n.getPathSequence(),path_slug:n.getPathSlug(),isAssessment:c}):Promise.resolve()}),[c,n.getPathSequence,n.getPathSlug,n.setupLesson,null===(r=n.lessonInfo)||void 0===r?void 0:r.sequence]);a.a.useEffect((function(){var e,t=l()(n.match.params,"mission_num"),r=v.sequence,a=r&&r===t&&n.lessonNotFound,o=t&&t!==(null===(e=n.lessonInfo)||void 0===e?void 0:e.sequence),s=void 0!==u&&u!==n.isLoggedIn;v.loading||a||!o&&!s||(q({loading:!0,sequence:t}),O(I(I({},n.match.params),{},{path_num:n.getPathSequence()}),!0).finally((function(){return q({loading:!1,sequence:t})})))}),[v,u,n.getPathSequence,O,n.isLoggedIn,n.match.params,n.lessonInfo,n.lessonNotFound]);var j,$,P,S,N=a.a.useMemo((function(){var e;if(n.lessonNotFound&&!n.lessonInfo)return a.a.createElement(y.a,{title:"Not Found"});if(!n.lessonInfo||null===(e=n.lessonInfo)||void 0===e||!e.sequence)return null;var t=n.lessonInfo.meta_title,r=n.lessonInfo.meta_description;n.lessonInfo.metadata&&(t=l()(n.lessonInfo.metadata,"meta_title",t),r=l()(n.lessonInfo.metadata,"meta_description",r)),n.current_step_info&&n.current_step_info.title&&(t+=" — ".concat(n.current_step_info.title));var o=Object(h.a)(n.lessonInfo,{step_index:n.current_step_index},n.isLoggedIn);return a.a.createElement(y.a,{title:t,seoPaywall:n.lessonSEOPaywall,description:r,extraTag:l()(n.lessonInfo,["metadata","meta_tag"],null),lesson:n.lessonInfo,canonical:o,localSEO:!0})}),[n]);return a.a.createElement(a.a.Fragment,null,N,n.lessonNotFound?n.isLoggedIn||n.lessonSEOPaywall?a.a.createElement(a.a.Fragment,null,a.a.createElement(f.a,{is_logged_in:!0,missing_catalog_topic:s||(null===(S=n.lessonInfo)||void 0===S?void 0:S.type)||"lesson"}),a.a.createElement(d.a,null)):a.a.createElement("div",{className:"dq-flex dq-items-center dq-h-full"},a.a.createElement(p.a,null)):(o||n.isTeamMember||"practice_problem"===(null===(j=n.lessonInfo)||void 0===j?void 0:j.type))&&null!==($=n.lessonInfo)&&void 0!==$&&$.is_behind_paywall&&l()(n.match,"params.mission_num")===(null===(P=n.lessonInfo)||void 0===P?void 0:P.sequence)&&!n.lessonSEOPaywall?a.a.createElement("div",{className:"dq-paywall"},a.a.createElement(m.a,null)):a.a.createElement("div",{className:"dq-paywall dq-h-full"},a.a.createElement(t,E({getPathSequence:n.getPathSequence,getPathSlug:n.getPathSlug,getPathInfo:n.getPathInfo,getEndOfLessonUrl:w},n,{setupLesson:O}))))}))}}(e))}},782:
/*!***************************************!*\
  !*** ./node_modules/lodash/filter.js ***!
  \***************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! ./_arrayFilter */423),a=n(/*! ./_baseFilter */798),o=n(/*! ./_baseIteratee */81),s=n(/*! ./isArray */44);e.exports=function(e,t){return(s(e)?r:a)(e,o(t,3))}},798:
/*!********************************************!*\
  !*** ./node_modules/lodash/_baseFilter.js ***!
  \********************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! ./_baseEach */169);e.exports=function(e,t){var n=[];return r(e,(function(e,r,a){t(e,r,a)&&n.push(e)})),n}},971:
/*!**************************************************************************!*\
  !*** ./src/redux/modules/lesson_end_info/lesson_end_info.js + 2 modules ***!
  \**************************************************************************/
/*! exports provided: actions, default, selectors, BASE_SELECTOR_PATH, ACTION_TYPES, private_actions */
/*! exports used: actions, selectors */
/*! ModuleConcatenation bailout: Cannot concat with ./src/redux/utils/dq_fetch/dq_fetch.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/store/inject_reducers.js */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/redux_helpers/dist/redux_helpers.min.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/seamless-immutable/seamless-immutable.development.js (<- Module is not an ECMAScript module) */function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"getEndInfo",(function(){return _})),n.d(r,"getEndProgress",(function(){return E})),n.d(r,"cleanupComplete",(function(){return O}));var a=n(46),o=n(22),s=n.n(o),i=n(18);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={isFirstComplete:!1,in_course:{title:"",slug:"",progress:0},usersTotal:null,missionsCompleted:null,isLoadingLessonEndInfo:!1},m=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(i.make_simple_selectors)(u,"lesson_end_info")),p={reset:function(){return s()(u)}},d=Object(i.make_reducer_n_actions)({public_handlers:p,private_handlers:{setFirstComplete:function(e,t){var n=t.payload;return e.merge({isFirstComplete:n})},resetFirstComplete:function(e){return e.merge({isFirstComplete:!1})},set_info:function(e,t){var n=t.payload;return e.merge({in_course:n.in_course})},setLessonsCompleted:function(e,t){var n=t.payload;return e.merge({missionsCompleted:n})},setDQTotalUsers:function(e,t){var n=t.payload;return e.merge({usersTotal:n})},setIsLoadingLessonEndInfo:function(e,t){var n=t.payload;return e.set("isLoadingLessonEndInfo",n)}},action_types_prefix:"lesson_end_info/",initial_state:u,Immutable:s.a}),f=d.reducer,g=d.private_actions,y=d.actions,h=(d.ACTION_TYPES,f),b=n(7);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=function(e,t){return function(n,r){n(y.reset()),n(g.setIsLoadingLessonEndInfo(!0));var a=t?",course_sequence: ".concat(t):"",o="{\n    mission(sequence: ".concat(e).concat(a,") {\n      in_course {\n        title: name\n        slug\n      }\n    }\n  }"),s="{\n    mission(sequence: ".concat(e,") {\n      is_first_complete\n    }\n  }"),i=[o,"{\n    users_total\n  }"];return r().weekly_goals_info&&r().weekly_goals_info.missions_completed||i.push(s),Object(b.e)(i).then((function(e){var t=e.data.mission,r=t.in_course,a=t.is_first_complete,o=e.data.users_total;return n(g.setFirstComplete(a)),n(g.setDQTotalUsers(o)),n(g.set_info({in_course:r}))})).catch(console.error).finally((function(){n(g.setIsLoadingLessonEndInfo(!1))}))}},E=function(e,t,n){return function(r,a){var o=t?'\n      course(slug: "'.concat(t,'") {\n        progress\n        completed\n      },'):"",s=n?"\n      path(sequence: ".concat(n,") {\n        progress\n        completed\n      },"):"",i="{\n    progress {\n      mission(sequence: ".concat(e,") {\n        progress\n        completed\n      },\n      ").concat(o,"\n      ").concat(s,'\n      missions_completed: count_completed(\n        curriculum_type: "Mission",\n      )\n    }\n  }');return Object(b.d)(i).then((function(e){var t=m.in_course(a()),n=e.data.progress,o=n.missions_completed,s=n.course,i=n.path,l=n.mission;return r(g.setLessonsCompleted(o)),r(g.set_info({in_course:s?q(q({},t),{},{progress:s.progress,timeCompleted:s.completed}):t,mission_progress:l.progress,missionTimeCompleted:l.completed,path_progress:null==i?void 0:i.progress,pathTimeCompleted:null==i?void 0:i.completed}))})).catch(console.error)}},O=function(){return function(e,t){e(g.resetFirstComplete())}};function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return $})),n.d(t,"b",(function(){return m}));var $=j(j({},y),r);Object(a.a)({lesson_end_info:h})}}]);
//# sourceMappingURL=27.0851d2ce72ae1b3fcc10.js.map