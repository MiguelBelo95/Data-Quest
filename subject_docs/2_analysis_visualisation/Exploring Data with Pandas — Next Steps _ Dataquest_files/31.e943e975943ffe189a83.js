(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{1449:
/*!**************************************************************!*\
  !*** ./src/views/TakeawaysView/TakeawaysView.js + 1 modules ***!
  \**************************************************************/
/*! exports provided: default */
/*! all exports used */
/*! ModuleConcatenation bailout: Cannot concat with ./src/components/HOC/withContent.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/components/common/feedback/DqLoading/DqLoading.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/components/lesson/NextScreenButton/NextScreenButton.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/helpers/events_tracker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/helpers/make_lesson_url.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/redux/modules/lesson_info/lesson_info.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/redux/modules/steps_info/steps_info.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/redux/modules/user_info/user_info.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/redux/utils/dq_fetch/dq_fetch.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/views/LessonView/LessonPaywallView.js */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/lodash/fp/compose.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/react-redux/es/index.js (<- Module is referenced from these modules with unsupported syntax: ./node_modules/redux-auth-wrapper/helper/redirect.js (referenced with cjs require)) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/react/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/reselect/lib/index.js (<- Module is not an ECMAScript module) */function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),s=n(23),o=n(10),l=n(717),i=n.n(l),c=n(760),u=n(759),d=Object(a.lazy)((function(){return Promise.all(/*! import() */[n.e(24),n.e(37)]).then(n.bind(null,/*! ./LessonTakeaways */1428))})),m=function(e){return r.a.createElement(a.Suspense,{fallback:r.a.createElement("div",null)},r.a.createElement(d,e))};m.displayName="LessonTakeaways_loadable",m.__docgenInfo={description:"",methods:[],displayName:"LessonTakeaways_loadable"};var p=m,f=n(796),b=n(57),y=n(45),g=n(263),q=n(7),v=n(14),h=n(709),w=n(708);function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,s=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(s.push(a.value),!t||s.length!==t);o=!0);}catch(e){l=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw r}}return s}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=I(I({},w.c),{},{openEndOfLesson:h.b.openEndOfLesson,stepList:h.b.step_list,currentStepInfo:h.b.current_step_info,currentStepIndex:h.b.current_step_index,isLoggedIn:v.b.is_logged_in,userJoinedAt:v.b.date_joined,isSubscribed:v.b.is_subscribed}),j={setupLesson:w.b.setupLesson,backStep:h.a.back_step},N=Object(o.createStructuredSelector)(S),T=function(e){var t=e.lessonInfo,n=e.currentStepInfo,s=e.currentStepIndex,o=e.openEndOfLesson,l=e.isSubscribed,i=e.isLoggedIn,c=e.userJoinedAt,d=e.backStep,m=e.lessonSEOPaywall,v=e.getEndOfLessonUrl,h=e.history,w=e.match,E=e.stepList,O=_(Object(a.useState)(""),2),I=O[0],x=O[1];return Object(a.useEffect)((function(){var e=w.params,a="/api/v2/missions/missions/sequence/".concat(e.mission_num,"/screens/sequence/").concat(e.step_num,"/");Object(q.b)(a).then((function(e){x(e.takeaways_pdf_url)})),i&&(y.a.track("screen_start",{screen_index:n.index,screen_position:n.sequence,screen_type:t.type,mission_sequence:t.sequence,course_sequence:t.course_sequence,path_sequence:t.path_sequence,userJoinedAt:c},{version:3}),y.a.track("screen_complete",{screen_index:n.index,screen_position:n.sequence,mission_sequence:t.sequence,course_sequence:t.course_sequence,path_sequence:t.path_sequence,userJoinedAt:c},{version:3}))}),[]),Object(a.useEffect)((function(){var e=w.params,a=parseInt(e.step_num,10)-1;null!=t&&t.sequence&&n&&"takeaways"!==n.type&&h.replace(Object(g.a)(t,{step_index:s})),a!==s&&s>0&&h.replace(Object(g.a)(t,{step_index:s}))}),[n,s,h,t,w]),Object(a.useEffect)((function(){o&&!!(i||m)&&h.push(v())}),[v,h,i,m,o]),Object(a.useEffect)((function(){var e;(t||E)&&null!==(e=E[s-1])&&void 0!==e&&e.just_text&&d()}),[t,d,E,s]),t?t.is_behind_paywall?r.a.createElement("div",{className:"dq-paywall"},r.a.createElement(u.a,null)):r.a.createElement("div",{className:"dq-h-full dq-flex dq-flex-col"},r.a.createElement("div",{className:"dq-flex-auto dq-h-full dq-overflow-auto"},r.a.createElement(p,{pdfUrl:I,isSubscribed:l}),r.a.createElement("div",{className:"dq-flex dq-justify-center"},r.a.createElement(f.a,{noFeedback:!0,isLast:!0,isReview:!0})))):r.a.createElement(b.a,{message:"Loading the lesson",fullScreen:!0})};T.displayName="TakeawaysView";var L=i()(Object(s.connect)(N,j),Object(c.a)({checkPaywall:!0}));T.__docgenInfo={description:"",methods:[],displayName:"TakeawaysView",props:{lessonInfo:{required:!0,flowType:{name:"Lesson"},description:""},currentStepInfo:{required:!0,flowType:{name:"StepInfo"},description:""},currentStepIndex:{required:!0,flowType:{name:"number"},description:""},openEndOfLesson:{required:!0,flowType:{name:"boolean"},description:""},isSubscribed:{required:!0,flowType:{name:"boolean"},description:""},isLoggedIn:{required:!0,flowType:{name:"boolean"},description:""},userJoinedAt:{required:!0,flowType:{name:"string"},description:""},lessonSEOPaywall:{required:!0,flowType:{name:"boolean"},description:""},stepList:{required:!0,flowType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{\n  just_text: boolean,\n}",signature:{properties:[{key:"just_text",value:{name:"boolean",required:!0}}]}}],raw:"{\n  just_text: boolean,\n}[]"},description:""},backStep:{required:!0,flowType:{name:"Function"},description:""},getEndOfLessonUrl:{required:!0,flowType:{name:"signature",type:"function",raw:"() => any",signature:{arguments:[],return:{name:"any"}}},description:""},history:{required:!0,flowType:{name:"signature",type:"object",raw:"{\n  push: string => any,\n  replace: string => any,\n}",signature:{properties:[{key:"push",value:{name:"signature",type:"function",raw:"string => any",signature:{arguments:[{name:"",type:{name:"string"}}],return:{name:"any"}},required:!0}},{key:"replace",value:{name:"signature",type:"function",raw:"string => any",signature:{arguments:[{name:"",type:{name:"string"}}],return:{name:"any"}},required:!0}}]}},description:""},match:{required:!0,flowType:{name:"signature",type:"object",raw:"{\n  params: {\n    mission_num: string,\n    step_num: string,\n  },\n}",signature:{properties:[{key:"params",value:{name:"signature",type:"object",raw:"{\n  mission_num: string,\n  step_num: string,\n}",signature:{properties:[{key:"mission_num",value:{name:"string",required:!0}},{key:"step_num",value:{name:"string",required:!0}}]},required:!0}}]}},description:""}}};t.default=L(T)},715:
/*!*****************************************!*\
  !*** ./node_modules/lodash/debounce.js ***!
  \*****************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var a=n(/*! ./isObject */63),r=n(/*! ./now */748),s=n(/*! ./toNumber */221),o=Math.max,l=Math.min;e.exports=function(e,t,n){var i,c,u,d,m,p,f=0,b=!1,y=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function q(t){var n=i,a=c;return i=c=void 0,f=t,d=e.apply(a,n)}function v(e){return f=e,m=setTimeout(w,t),b?q(e):d}function h(e){var n=e-p;return void 0===p||n>=t||n<0||y&&e-f>=u}function w(){var e=r();if(h(e))return _(e);m=setTimeout(w,function(e){var n=t-(e-p);return y?l(n,u-(e-f)):n}(e))}function _(e){return m=void 0,g&&i?q(e):(i=c=void 0,d)}function E(){var e=r(),n=h(e);if(i=arguments,c=this,p=e,n){if(void 0===m)return v(p);if(y)return clearTimeout(m),m=setTimeout(w,t),q(p)}return void 0===m&&(m=setTimeout(w,t)),d}return t=s(t)||0,a(n)&&(b=!!n.leading,u=(y="maxWait"in n)?o(s(n.maxWait)||0,t):u,g="trailing"in n?!!n.trailing:g),E.cancel=function(){void 0!==m&&clearTimeout(m),f=0,i=p=c=m=void 0},E.flush=function(){return void 0===m?d:_(r())},E}},730:
/*!*****************************************!*\
  !*** ./node_modules/lodash/throttle.js ***!
  \*****************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var a=n(/*! ./debounce */715),r=n(/*! ./isObject */63);e.exports=function(e,t,n){var s=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return r(n)&&(s="leading"in n?!!n.leading:s,o="trailing"in n?!!n.trailing:o),a(e,t,{leading:s,maxWait:t,trailing:o})}},741:
/*!*************************************!*\
  !*** ./src/utils/hooks/previous.js ***!
  \*************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var a=n(/*! react */1),r=n.n(a);t.a=function(e){var t=r.a.useRef();return r.a.useEffect((function(){t.current=e})),t.current}},746:
/*!******************************************!*\
  !*** ./src/views/LessonView/tracking.js ***!
  \******************************************/
/*! exports provided: LessonPaywallTracking */
/*! exports used: LessonPaywallTracking */function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(/*! helpers/events_tracker */45),r={paywallView:function(e){var t=e.paywall_type,n=e.location,r=e.lessonInfo,s=e.featureFlags,o=void 0===s?{}:s;try{a.a.track("paywall_view",{paywall_type:t,paywall_location:n,mission_sequence:r.sequence,course_sequence:r.course_sequence,path_sequence:r.path_sequence,featureFlags:o},{version:3})}catch(e){console.error("error sending event",e)}}}},748:
/*!************************************!*\
  !*** ./node_modules/lodash/now.js ***!
  \************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var a=n(/*! ./_root */74);e.exports=function(){return a.Date.now()}},759:
/*!***************************************************************!*\
  !*** ./src/views/LessonView/LessonPaywallView.js + 1 modules ***!
  \***************************************************************/
/*! exports provided: actions, default */
/*! exports used: default */
/*! ModuleConcatenation bailout: Cannot concat with ./src/components/common/elements/DqButton/DqButton.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/components/common/feedback/dialog/DqAlertDialog.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/components/common/layout/DqCard/DqCard.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/components/unique/DqFooter/DqFooter.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/helpers/constants.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/helpers/price_helpers.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/redux/modules/lesson_info/lesson_info.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/redux/modules/plan_info/plan_info.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/redux/modules/steps_info/steps_info.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/redux/modules/team_info/team_info.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/redux/modules/user_info/user_info.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/utils/sanitation.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/views/LessonView/tracking.js because of ./src/components/common/paywall/DqPaywallDialog/DqPaywallDialog.js */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/lodash/debounce.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/react-device-detect/main.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/react-icons/io5/index.esm.js (<- Module is referenced from these modules with unsupported syntax: ./node_modules/@dataquestio/dq-components/components/common/feedback/dialog/DqAlertDialog.js (referenced with cjs require)) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/react-redux/es/index.js (<- Module is referenced from these modules with unsupported syntax: ./node_modules/redux-auth-wrapper/helper/redirect.js (referenced with cjs require)) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/react/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/reselect/lib/index.js (<- Module is not an ECMAScript module) */function(e,t,n){"use strict";var a=n(1),r=n.n(a),s=n(715),o=n.n(s),l=n(731),i=n(23),c=n(10),u=n(708),d=n(709),m=n(262),p=n(14),f=n(220),b=n(35),y=n(219),g=n(746),q=n(119),v=n(116),h=n(16),w=n(167),_=n(139),E=function(e){var t=e.features,n=r.a.useCallback((function(e){return e.replace(/\d+/,(function(e){return"<b>".concat(e,"</b>")}))}),[]);return t.map((function(e){return r.a.createElement("div",{className:"dq-p-2 dq-mb-2 dq-bg-gray-50 dq-text-sm last:dq-mb-0",key:e.text},r.a.createElement("p",{className:"dq-inline-flex dq-items-center"},r.a.createElement(b.IoCheckmarkCircleSharp,{className:"dq-mr-1 dq-text-base"})," ",e.text),e.highlights&&r.a.createElement("p",{className:"dq-ml-5"},e.highlights.map((function(e){return r.a.createElement("span",{key:e,className:"dq-mr-2",dangerouslySetInnerHTML:{__html:Object(_.a)(n(e))}})}))))}))},O=n(15);function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,s=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(s.push(a.value),!t||s.length!==t);o=!0);}catch(e){l=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw r}}return s}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var S={stepsInfo:d.b.steps_info,lessonInfo:u.c.lessonInfo,featureFlags:p.b.featureFlags,isTeamMember:p.b.is_teammember,teamId:p.b.team_id,hasTeamAdminAccess:p.b.hasTeamAdminAccess,plans:m.b.plans},j={leaveTeam:f.a.leave_team},N=Object(c.createStructuredSelector)(S),T=function(e){var t=e.lessonInfo,n=e.stepsInfo,s=e.plans,i=e.featureFlags,c=e.isTeamMember,u=e.teamId,d=e.leaveTeam,m=e.hasTeamAdminAccess,p=Object(a.useRef)(null),f=I(Object(a.useState)(l.isMobileOnly?0:36),2),_=f[0],x=f[1],S="dq-mb-4 last:dq-mb-0",j=Object(y.c)(s.premium.annual.discounted||s.premium.annual.by_month);Object(a.useEffect)((function(){return g.a.paywallView({paywall_type:"hard",location:window.location.href,lessonInfo:t,featureFlags:i}),l.isMobileOnly||window.addEventListener("scroll",N,!0),function(){return window.removeEventListener("scroll",N,!0)}}),[]);var N=o()((function(e){var t=e.target,n=t.scrollHeight-296;t.scrollTop+p.current.clientHeight<n&&x(t.scrollTop+36)}),10),T=function(e){return r.a.createElement("p",{className:"dq-mb-4 dq-uppercase dq-text-sm dq-font-bold"},e)};return r.a.createElement("div",{className:"dq-relative","data-test-selector":"paywall"},r.a.createElement("div",{className:"dq-bg-gray-800 dq-pt-6 dq-pb-24 dq-px-4 dq-text-white lg:dq-px-0"},r.a.createElement("div",{className:"dq-max-w-7xl dq-mx-auto"},r.a.createElement("div",{className:"md:dq-w-1/2 md:dq-mx-0 lg:dq-w-3/5"},r.a.createElement("div",{className:"dq-uppercase dq-text-gray-400 dq-font-bold"},"LESSON"),r.a.createElement("h3",{className:"dq-font-bold"},t.title),r.a.createElement("p",null,t.description)))),r.a.createElement("div",{className:"dq-max-w-7xl dq-mx-auto dq--mt-16 dq-px-4 lg:dq-px-0"},r.a.createElement("div",{className:"md:dq-w-1/2 md:dq-mx-0 lg:dq-w-3/5"},t.learn.length>0&&r.a.createElement(v.a,{className:"dq-mb-6"},T("YOU WILL LEARN HOW TO"),r.a.createElement("ul",null,t.learn.map((function(e){return r.a.createElement("li",{key:e.text,className:S},r.a.createElement(b.IoCheckmarkSharp,{className:"dq-inline-block dq-mr-1 dq-text-green"})," ",e.text)})))),r.a.createElement(v.a,{className:"dq-mb-6 md:dq-absolute md:dq-w-1/2 md:dq-left-1/2 md:dq-ml-4 lg:dq-w-2/5 lg:dq-left-3/5 lg:dq-max-w-md",style:{top:"".concat(_,"px")}},c&&r.a.createElement("div",{ref:p},r.a.createElement("h3",{className:"dq-text-blue dq-mb-4 dq-font-bold dq-flex dq-space-x-2 dq-items-center dq-justify-center"},"Premium content ",r.a.createElement(b.IoLockClosedSharp,null)),r.a.createElement("p",{className:"dq-text-center dq-mb-2"},"This content requires a Premium Subscription."),m&&r.a.createElement(h.a,{text:"Upgrade",href:O.t,className:"dq-w-full dq-mt-4","data-test-selector":"upgrade-btn"}),!m&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"dq-text-center"},"Reach out to your account administrator to request access. If you are no longer a member of this team, you can leave this team."),r.a.createElement(w.a,{toggleEl:r.a.createElement(h.a,{color:"error",text:"Leave team",className:"dq-w-full dq-mt-4","data-test-selector":"leave-team"}),handleOnConfirm:function(){return d(u)},message:"Doing this will convert this account to an individual account. All progress and access will be maintained.",actionsConfirmText:"Leave",title:"Leave team"}))),!c&&r.a.createElement("div",{ref:p},r.a.createElement("h3",{className:"dq-mb-4 dq-font-bold dq-text-center"},"This content is exclusive to our"," ",r.a.createElement("span",{className:"dq-text-blue"},"premium subscribers")),r.a.createElement("p",{className:"dq-mb-5 dq-text-center"},"Get access to this and +353 lessons"," ",r.a.createElement("span",{className:"dq-font-bold"},"for only $",j)," ","per month"),r.a.createElement("div",{className:"dq-max-w-sm dq-mx-auto dq-mb-6 md:dq-max-w-full"},r.a.createElement(E,{features:s.premium.monthly.features})),r.a.createElement(h.a,{text:"Get access now",to:"/payment",className:"dq-w-full","data-test-selector":"upgrade-btn"}))),t.interesting_data.length>0&&r.a.createElement(v.a,{className:"dq-mb-6"},T("Analyzing REAL Data SETS"),r.a.createElement("ul",null,t.interesting_data.map((function(e){return r.a.createElement("li",{key:e,className:S},r.a.createElement(b.IoServerSharp,{className:"dq-inline-block dq-mr-1 dq-text-green"})," ",e)})))),t.in_paths.length>0&&r.a.createElement(v.a,{className:"dq-mb-6"},T("INCLUDED IN PATHS"),r.a.createElement("ul",{className:"dq-list-disc dq-list-inside"},t.in_paths.map((function(e){return r.a.createElement("li",{key:e.title,className:S},r.a.createElement(h.a,{to:"/path/".concat(e.slug),text:e.title,variant:"text"}))})))),n.length>0&&r.a.createElement(v.a,{className:"dq-mb-6"},T("LESSON OUTLINE"),r.a.createElement("ul",{className:"dq-list-decimal dq-list-inside"},n.map((function(e){return r.a.createElement("li",{key:e.title,className:S},e.title)})))))),r.a.createElement(q.a,null))};T.displayName="LessonPaywallView",T.__docgenInfo={description:"",methods:[],displayName:"LessonPaywallView",props:{lessonInfo:{required:!0,flowType:{name:"Lesson"},description:""},stepsInfo:{required:!0,flowType:{name:"tuple",raw:"[]",elements:[]},description:""},plans:{required:!0,flowType:{name:"PlansState"},description:""},featureFlags:{required:!0,flowType:{name:"signature",type:"object",raw:"{}",signature:{properties:[]}},description:""},isTeamMember:{required:!0,flowType:{name:"boolean"},description:""},hasTeamAdminAccess:{required:!0,flowType:{name:"boolean"},description:""},teamId:{required:!0,flowType:{name:"number"},description:""},leaveTeam:{required:!0,flowType:{name:"signature",type:"function",raw:"number => void",signature:{arguments:[{name:"",type:{name:"number"}}],return:{name:"void"}}},description:""}}};t.a=Object(i.connect)(N,j)(T)},760:
/*!*******************************************!*\
  !*** ./src/components/HOC/withContent.js ***!
  \*******************************************/
/*! exports provided: withContent, default */
/*! exports used: default */function(e,t,n){"use strict";var a=n(/*! react */1),r=n.n(a),s=(n(/*! prop-types */4),n(/*! react-redux */23)),o=n(/*! reselect */10),l=n(/*! lodash/get */12),i=n.n(l),c=n(/*! lodash/fp/compose */717),u=n.n(c),d=n(/*! views/LessonView/LessonPaywallView */759),m=n(/*! components/auth/AuthForm/AuthForm */749),p=n(/*! components/unique/DqFooter */119),f=n(/*! components/marketing/NotThereSplash */267),b=n(/*! components/HOC/withPathInfo */745),y=n(/*! components/marketing/SEO */75),g=n(/*! helpers/make_lesson_url */263),q=n(/*! helpers/constants */15),v=n(/*! redux/modules/lesson_info */708),h=n(/*! redux/modules/steps_info */709),w=n(/*! redux/modules/user_info */14),_=n(/*! utils/hooks/previous */741);function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,s=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(s.push(a.value),!t||s.length!==t);o=!0);}catch(e){l=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw r}}return s}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var N={lessonInfo:v.c.lessonInfo,lessonSEOPaywall:v.c.lessonSEOPaywall,lessonNotFound:v.c.lessonNotFound,current_step_index:h.b.current_step_index,current_step_info:h.b.current_step_info,step_list:h.b.step_list,isLoggedIn:w.b.is_logged_in,isTeamMember:w.b.is_teammember,featureFlags:w.b.featureFlags},T={setupLesson:v.b.setupLesson},L=Object(o.createStructuredSelector)(N);t.a=function(e){return u()(Object(s.connect)(L,T),function(e){return function(t){return Object(b.a)((function(n){var a,s=e.checkPaywall,o=e.contentType,l=e.isAssessment,c=void 0!==l&&l,u=Object(_.a)(n.isLoggedIn),b=S(r.a.useState({sequence:null,loading:!1}),2),v=b[0],h=b[1];r.a.useEffect((function(){var e,t;null!==(e=n.location)&&void 0!==e&&null!==(t=e.state)&&void 0!==t&&t.slug&&window.localStorage.setItem(q.l,n.location.state.slug)}),[n.location]);var w=r.a.useCallback((function(){var e,t=null===(e=n.step_list)||void 0===e?void 0:e.length;return n.lessonInfo&&n.lessonInfo.isAssessment&&(t+=1),Object(g.a)(n.lessonInfo,{step_index:t,step_title:"the-end"},n.isLoggedIn,n.getPathInfo())}),[n.lessonInfo,n.step_list,n.isLoggedIn,n.getPathInfo]),O=r.a.useCallback((function(e){var t,a=e.mission_num,r=e.step_num,s=e.course_num,o=e.path_num,l=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=n.setupLesson;return l||a&&a!==(null===(t=n.lessonInfo)||void 0===t?void 0:t.sequence)?i({mission_num:a,step_num:r,course_num:s,path_num:o||n.getPathSequence(),path_slug:n.getPathSlug(),isAssessment:c}):Promise.resolve()}),[c,n.getPathSequence,n.getPathSlug,n.setupLesson,null===(a=n.lessonInfo)||void 0===a?void 0:a.sequence]);r.a.useEffect((function(){var e,t=i()(n.match.params,"mission_num"),a=v.sequence,r=a&&a===t&&n.lessonNotFound,s=t&&t!==(null===(e=n.lessonInfo)||void 0===e?void 0:e.sequence),o=void 0!==u&&u!==n.isLoggedIn;v.loading||r||!s&&!o||(h({loading:!0,sequence:t}),O(I(I({},n.match.params),{},{path_num:n.getPathSequence()}),!0).finally((function(){return h({loading:!1,sequence:t})})))}),[v,u,n.getPathSequence,O,n.isLoggedIn,n.match.params,n.lessonInfo,n.lessonNotFound]);var x,j,N,T,L=r.a.useMemo((function(){var e;if(n.lessonNotFound&&!n.lessonInfo)return r.a.createElement(y.a,{title:"Not Found"});if(!n.lessonInfo||null===(e=n.lessonInfo)||void 0===e||!e.sequence)return null;var t=n.lessonInfo.meta_title,a=n.lessonInfo.meta_description;n.lessonInfo.metadata&&(t=i()(n.lessonInfo.metadata,"meta_title",t),a=i()(n.lessonInfo.metadata,"meta_description",a)),n.current_step_info&&n.current_step_info.title&&(t+=" â€” ".concat(n.current_step_info.title));var s=Object(g.a)(n.lessonInfo,{step_index:n.current_step_index},n.isLoggedIn);return r.a.createElement(y.a,{title:t,seoPaywall:n.lessonSEOPaywall,description:a,extraTag:i()(n.lessonInfo,["metadata","meta_tag"],null),lesson:n.lessonInfo,canonical:s,localSEO:!0})}),[n]);return r.a.createElement(r.a.Fragment,null,L,n.lessonNotFound?n.isLoggedIn||n.lessonSEOPaywall?r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{is_logged_in:!0,missing_catalog_topic:o||(null===(T=n.lessonInfo)||void 0===T?void 0:T.type)||"lesson"}),r.a.createElement(p.a,null)):r.a.createElement("div",{className:"dq-flex dq-items-center dq-h-full"},r.a.createElement(m.a,null)):(s||n.isTeamMember||"practice_problem"===(null===(x=n.lessonInfo)||void 0===x?void 0:x.type))&&null!==(j=n.lessonInfo)&&void 0!==j&&j.is_behind_paywall&&i()(n.match,"params.mission_num")===(null===(N=n.lessonInfo)||void 0===N?void 0:N.sequence)&&!n.lessonSEOPaywall?r.a.createElement("div",{className:"dq-paywall"},r.a.createElement(d.a,null)):r.a.createElement("div",{className:"dq-paywall dq-h-full"},r.a.createElement(t,E({getPathSequence:n.getPathSequence,getPathSlug:n.getPathSlug,getPathInfo:n.getPathInfo,getEndOfLessonUrl:w},n,{setupLesson:O}))))}))}}(e))}},796:
/*!********************************************************************!*\
  !*** ./src/components/lesson/NextScreenButton/NextScreenButton.js ***!
  \********************************************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var a=n(/*! react */1),r=n.n(a),s=n(/*! react-icons/io5 */35),o=n(/*! components/common/elements/DqButton */16),l=n(/*! react-redux */23),i=n(/*! redux/modules/steps_info */709),c=function(e){var t=e.noFeedback,n=void 0!==t&&t,a=e.isLast,c=void 0!==a&&a,u=e.isReview,d=void 0!==u&&u,m={noFeedback:{color:"blue",size:"regular",endIcon:null,testSelector:"NextBtn"},feedback:{color:"white",size:"small",endIcon:r.a.createElement(s.IoChevronForwardSharp,null),testSelector:"FeedbackNextBtn"}},p=Object(l.useDispatch)(),f=i.a.next_step,b=i.a.directly_to_step,y=Object(l.useSelector)((function(e){return e.lessonInfo})),g=Object(l.useSelector)((function(e){return e.steps_info.current})),q=y.lessonInfo.isAssessment,v=c?"Finish":"Next";n||(v+=q?" Exercise":" Screen");var h=m[n?"noFeedback":"feedback"];return f?r.a.createElement(o.a,{size:h.size,color:h.color,text:v,endIcon:h.endIcon,onClick:function(){p(d?b(g+2):f())},"data-test-selector":h.testSelector}):null};c.displayName="NextScreenButton",c.__docgenInfo={description:"",methods:[],displayName:"NextScreenButton",props:{noFeedback:{defaultValue:{value:"false",computed:!1},required:!1},isLast:{defaultValue:{value:"false",computed:!1},required:!1},isReview:{defaultValue:{value:"false",computed:!1},required:!1}}},t.a=c}}]);
//# sourceMappingURL=31.e943e975943ffe189a83.js.map