(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{1014:
/*!*********************************************************!*\
  !*** ./src/components/common/code/DqEditor/DqEditor.js ***!
  \*********************************************************/
/*! exports provided: DqEditor, default */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is referenced from these modules with unsupported syntax: ./src/components/common/code/DqEditor/DqEditor_loadable.js (referenced with import()) */function(e,t,o){"use strict";o.r(t),o.d(t,"DqEditor",(function(){return _}));var r=o(/*! react */1),n=o.n(r),a=(o(/*! prop-types */4),o(/*! classnames */9)),i=o.n(a),u=o(/*! lodash/forEach */170),l=o.n(u),c=o(/*! lodash/isEqual */145),s=o.n(c),p=o(/*! lodash/pick */42),d=o.n(p),f=o(/*! lodash/pull */1229),m=o.n(f),y=o(/*! lodash/startsWith */1233),h=o.n(y),b=o(/*! lodash/defaultTo */24),g=o.n(b),v=(o(/*! codemirror/lib/codemirror.css */876),o(/*! seamless-immutable */22)),O=o.n(v),x=o(/*! codemirror */750),k=o.n(x),w=o(/*! ./load_mode */874);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function M(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?R(Object(o),!0).forEach((function(t){L(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):R(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function j(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=T(e);if(t){var n=T(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return S(this,o)}}function S(e,t){if(t&&("object"===C(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return q(e)}function q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}o(/*! codemirror/addon/hint/show-hint.css */1234),o.e(/*! import() */59).then(o.t.bind(null,/*! codemirror/addon/hint/show-hint */1410,7)),o.e(/*! import() */58).then(o.t.bind(null,/*! codemirror/addon/hint/anyword-hint */1411,7)),o.e(/*! import() */57).then(o.t.bind(null,/*! codemirror/addon/comment/comment */1412,7));var E=/[a-zA-Z_$][\w_$]*/,A=function(e){for(var t,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[],n=new RegExp(E,"g");t=n.exec(e);)o[t[0]]||(o[t[0]]=!0,r.push(t[0]));return r},_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&V(e,t)}(u,e);var t,o,r,a=P(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),L(q(t=a.call(this,e)),"stillMounted",!0),L(q(t),"codemirrorRef",void 0),L(q(t),"textareaRef",void 0),L(q(t),"returnMode",(function(){return t.state.modesLoaded[t.props.mode]||"python"})),L(q(t),"checkIfAutocomplete",(function(e,o){o&&o.key.length>1||!e.state.completionActive&&/[a-zA-Z_."']/.test(o.key)&&t.props.codemirror.commands.autocomplete(e,null,{completeSingle:!1,generalKey:!0})})),L(q(t),"getWords",(function(e){var o=[],r=e.getHelper(e.getCursor(),"hintWords");r&&(o=r);var n=o.reduce((function(e,t){return e[t]=!0,e}),{});return(o=(o=o.concat(A(t.props.value,n))).concat(A(t.props.autocompleteExtraText,n))).sort(),o})),L(q(t),"autocomplete",(function(e,o){var r=t.getWords(e),n=e.getCursor();if(!o.generalKey)return{list:r,from:n,to:n};var a=function(e){for(var t=e.getCursor(),o=e.getLine(t.line),r=t.ch,n=r;n>0&&E.test(o.charAt(n-1));)n-=1;return n!==r&&o.slice(n,r)}(e);if(a&&!(a.length<2)){m()(r,a);var i=a.toLowerCase();return{list:r.filter((function(e){return h()(e.toLowerCase(),i)})),from:t.props.codemirror.Pos(n.line,n.ch-a.length),to:n}}})),L(q(t),"setModeLoaded",(function(e,o){var r=t.state.modesLoaded;t.stillMounted&&(t.setState({modesLoaded:M(M({},r),{},L({},e,o))}),t.setOptions(t.props,o))})),L(q(t),"handleValueChange",(function(e,o){null!=t.props.onChange&&"setValue"!==o.origin&&t.props.onChange(e.getValue())})),L(q(t),"setTextAreaRef",(function(e){t.textareaRef=e})),L(q(t),"focus",(function(){t.codemirrorRef&&t.codemirrorRef.focus&&t.codemirrorRef.focus()})),t.state={modesLoaded:{},options:{}},t}return t=u,r=[{key:"tabMapping",value:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertSoftTab")}},{key:"shiftTabMapping",value:function(e){e.indentSelection("subtract")}},{key:"toggleComment",value:function(e){e.toggleComment({indent:!0})}}],(o=[{key:"componentDidMount",value:function(){var e=this;this.setOptions(),this.props.loadMode(this.props.mode,this.setModeLoaded);var t=navigator.userAgent.toLowerCase().indexOf("firefox")>-1?100:0;setTimeout((function(){null!=e.textareaRef&&null!=e.stillMounted&&(e.codemirrorRef=e.props.codemirror.fromTextArea(e.textareaRef,e.state.options),e.codemirrorRef.on("change",e.handleValueChange),"function"==typeof e.props.postUpdateHook&&e.codemirrorRef.on("update",e.props.postUpdateHook),e.codemirrorRef.setValue(e.props.value),e.props.extraCodemirrorSetup&&e.props.extraCodemirrorSetup(e.codemirrorRef),!e.props.readOnly&&e.props.autocomplete&&e.codemirrorRef.on("keyup",e.checkIfAutocomplete))}),t)}},{key:"componentDidUpdate",value:function(e){var t=["mode","wrapLines","readOnly","lineNumbers","extraCodemirrorOptions"];s()(d()(this.props,t),d()(e,t))||this.setOptions(this.props),this.codemirrorRef&&this.props.value!==this.codemirrorRef.getValue()&&this.codemirrorRef.setValue(this.props.value)}},{key:"componentWillUnmount",value:function(){this.codemirrorRef&&this.codemirrorRef.toTextArea(),delete this.stillMounted}},{key:"setOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.returnMode(),o=O()(M(M({lineWrapping:e.wrapLines,mode:t,cursorBlinkRate:e.readOnly?-1:530},d()(e,["readOnly"])),{},{lineNumbers:e.lineNumbers,indentUnit:4,extraKeys:{Tab:u.tabMapping,"Shift-Tab":u.shiftTabMapping,"Ctrl-Space":e.readOnly?"":"autocomplete","Ctrl-/":u.toggleComment,"Cmd-/":u.toggleComment},hintOptions:{hint:this.autocomplete}})).merge(this.props.extraCodemirrorOptions,{deep:!0});this.setState({options:o}),this.applyOptions(o)}},{key:"applyOptions",value:function(e){var t=this;null!=this.codemirrorRef&&l()(e,(function(e,o){var r=t.codemirrorRef.getOption(o);s()(r,e)||t.codemirrorRef.setOption(o,e)}))}},{key:"render",value:function(){return n.a.createElement("div",{className:i()("dq-editor",g()(this.props.className,""))},n.a.createElement("textarea",{ref:this.setTextAreaRef,defaultValue:this.props.value,autoComplete:"off"}))}}])&&j(t.prototype,o),r&&j(t,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(n.a.PureComponent);L(_,"defaultProps",{onChange:function(){},className:"",extraCodemirrorSetup:void 0,value:"",mode:"python",wrapLines:!0,readOnly:!1,lineNumbers:!0,extraCodemirrorOptions:{},autocompleteExtraText:"",loadMode:w.a,codemirror:k.a,autocomplete:!0,postUpdateHook:function(){}}),_.displayName="DqEditor",_.__docgenInfo={description:"",methods:[{name:"tabMapping",docblock:null,modifiers:["static"],params:[{name:"cm",type:null}],returns:null},{name:"shiftTabMapping",docblock:null,modifiers:["static"],params:[{name:"cm",type:null}],returns:null},{name:"toggleComment",docblock:null,modifiers:["static"],params:[{name:"cm",type:null}],returns:null},{name:"setOptions",docblock:null,modifiers:[],params:[{name:"props",type:null},{name:"mode",type:null}],returns:null},{name:"returnMode",docblock:null,modifiers:[],params:[],returns:null},{name:"checkIfAutocomplete",docblock:null,modifiers:[],params:[{name:"cm",type:null},{name:"event",type:null}],returns:null},{name:"getWords",docblock:null,modifiers:[],params:[{name:"cm",type:null}],returns:null},{name:"autocomplete",docblock:null,modifiers:[],params:[{name:"cm",type:null},{name:"options",type:null}],returns:null},{name:"setModeLoaded",docblock:null,modifiers:[],params:[{name:"propMode",type:null},{name:"resultingMode",type:null}],returns:null},{name:"handleValueChange",docblock:null,modifiers:[],params:[{name:"doc",type:null},{name:"change",type:null}],returns:null},{name:"setTextAreaRef",docblock:null,modifiers:[],params:[{name:"ref",type:null}],returns:null},{name:"focus",docblock:null,modifiers:[],params:[],returns:null},{name:"applyOptions",docblock:null,modifiers:[],params:[{name:"options",type:null}],returns:null}],displayName:"DqEditor",props:{onChange:{defaultValue:{value:"() => undefined",computed:!1},type:{name:"func"},required:!1,description:""},className:{defaultValue:{value:'""',computed:!1},type:{name:"string"},required:!1,description:""},extraCodemirrorSetup:{defaultValue:{value:"undefined",computed:!0},type:{name:"func"},required:!1,description:""},value:{defaultValue:{value:'""',computed:!1},type:{name:"string"},required:!1,description:""},mode:{defaultValue:{value:'"python"',computed:!1},type:{name:"string"},required:!1,description:""},wrapLines:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},readOnly:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},lineNumbers:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},extraCodemirrorOptions:{defaultValue:{value:"{}",computed:!1},type:{name:"object"},required:!1,description:""},autocompleteExtraText:{defaultValue:{value:'""',computed:!1},type:{name:"string"},required:!1,description:""},loadMode:{defaultValue:{value:"loadMode",computed:!0},type:{name:"func"},required:!1,description:""},codemirror:{defaultValue:{value:"codemirror",computed:!0},type:{name:"any"},required:!1,description:""},autocomplete:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},postUpdateHook:{defaultValue:{value:"() => undefined",computed:!1},type:{name:"func"},required:!1,description:""}}},t.default=_},874:
/*!**********************************************************!*\
  !*** ./src/components/common/code/DqEditor/load_mode.js ***!
  \**********************************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,o){"use strict";o.d(t,"a",(function(){return r}));o(/*! codemirror/mode/python/python */875);function r(e,t){switch(e.toLowerCase()){case"r":o.e(/*! require.ensure | cm_r */12).then(function(){o(/*! codemirror/mode/r/r */1011),t(e,"text/x-rsrc")}.bind(null,o)).catch(o.oe);break;case"sql":o.e(/*! require.ensure | cm_sql */15).then(function(){o(/*! codemirror/mode/sql/sql */1012),t(e,"text/x-sql")}.bind(null,o)).catch(o.oe);break;case"regex":o.e(/*! require.ensure | cm_regex */13).then(function(){o(/*! ./modes/regex */1013),t(e,"text/x-regex")}.bind(null,o)).catch(o.oe);break;case"text":t(e,"text/plain");break;case"":case"python":case"python 3":t(e,"text/x-python");break;default:console.warn('Falling back to Python. Mode tried was "'.concat(e,'"')),t(e,"text/x-python")}}}},0,[57,58,59]]);
//# sourceMappingURL=43.f2b678d24b430105f96d.js.map