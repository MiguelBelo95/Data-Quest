(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{1428:
/*!******************************************************************!*\
  !*** ./src/components/lesson/LessonTakeaways/LessonTakeaways.js ***!
  \******************************************************************/
/*! exports provided: actions, default */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is referenced from these modules with unsupported syntax: ./src/components/lesson/LessonTakeaways/LessonTakeaways_loadable.js (referenced with import()) */function(e,t,n){"use strict";n.r(t),n.d(t,"actions",(function(){return p}));var r=n(/*! react */1),a=n.n(r),o=(n(/*! prop-types */4),n(/*! react-redux */23)),l=n(/*! reselect */10),i=n(/*! react-pdf/dist/esm/entry.webpack */967),c=(n(/*! react-pdf/dist/esm/Page/AnnotationLayer.css */906),n(/*! react-icons/io5 */35)),u=n(/*! components/common/elements/DqButton */16),s=n(/*! components/common/feedback/DqLoading */57),d=n(/*! ./DownloadButton */979);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p={},y=Object(l.createStructuredSelector)({}),g={g_d0_f1:{fontFamily:'"source-code-pro",serif',letterSpacing:"1px"},g_d0_f2:{fontFamily:'"source-sans-pro",sans-serif',letterSpacing:"1.3px"},g_d0_f3:{fontFamily:'"source-code-pro",serif',letterSpacing:"1px"},g_d0_f4:{fontFamily:'"source-sans-pro",sans-serif',letterSpacing:"1.3px"}},h=function(e){var t=e.pdfUrl,n=e.isSubscribed,o=f(Object(r.useState)(null),2),l=o[0],m=o[1],p=f(Object(r.useState)(1),2),y=p[0],h=p[1],v=f(Object(r.useState)([]),2),w=v[0],b=v[1],q=function(e){h((function(t){return t+e}))},x=a.a.createElement("div",{className:"dq-my-14 dq-px-4 dq-h-screen",style:{width:"".concat(921,"px")}},a.a.createElement(s.a,{fullScreen:!0,message:"Loading PDF"})),E=a.a.createElement("div",{className:"dq-my-14 dq-px-4 dq-h-screen dq-text-center",style:{width:"".concat(921,"px")}},"Failed to load PDF file.");return a.a.createElement("div",{className:"dq-relative dq-w-max dq-m-auto dq-my-10"},a.a.createElement(i.a,{noData:x,loading:x,file:t,externalLinkTarget:"_blank",onLoadSuccess:function(e){var t=e.numPages;m(t),h(1)},renderMode:"svg",error:E,className:"dq-h-full lg:dq-flex lg:dq-justify-center "},a.a.createElement(i.b,{customTextRenderer:function(e){var t=e.str,n=e.itemIndex,r=w[n];if(!r)return null;var o=g[r.fontName];return a.a.createElement("span",{style:o},t)},onGetTextSuccess:function(e){return b(e)},pageNumber:y,width:921})),t&&a.a.createElement(d.a,{isSubscribed:n,pdfUrl:t,className:"dq-absolute dq-top-4 dq-right-4 dq-whitespace-nowrap"}),!!l&&a.a.createElement("div",{className:"dq-relative dq--top-12 dq-flex dq-justify-center dq-items-center"},a.a.createElement(u.a,{size:"small",variant:"text",startIcon:a.a.createElement(c.IoChevronBackSharp,null),onClick:function(){return q(-1)},disabled:y<=1,className:"!dq-min-w-0"}),a.a.createElement("span",{className:"dq-text-xs dq-leading-loose dq-mx-8"},"Page ",y||(l?1:"--")," of ",l||"--"),a.a.createElement(u.a,{size:"small",variant:"text",startIcon:a.a.createElement(c.IoChevronForwardSharp,null),onClick:function(){return q(1)},disabled:y>=l,className:"!dq-min-w-0"})))};h.displayName="LessonTakeaways",h.__docgenInfo={description:"",methods:[],displayName:"LessonTakeaways",props:{pdfUrl:{type:{name:"string"},required:!0,description:""},isSubscribed:{type:{name:"bool"},required:!0,description:""}}},t.default=Object(o.connect)(y,p)(h)},899:
/*!**********************!*\
  !*** zlib (ignored) ***!
  \**********************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t){},900:
/*!********************!*\
  !*** fs (ignored) ***!
  \********************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t){},901:
/*!**********************!*\
  !*** http (ignored) ***!
  \**********************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t){},902:
/*!***********************!*\
  !*** https (ignored) ***!
  \***********************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t){},903:
/*!*********************!*\
  !*** url (ignored) ***!
  \*********************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t){},979:
/*!*****************************************************************************!*\
  !*** ./src/components/lesson/LessonTakeaways/DownloadButton.js + 1 modules ***!
  \*****************************************************************************/
/*! exports provided: default */
/*! exports used: default */
/*! ModuleConcatenation bailout: Cannot concat with ./src/components/common/elements/DqButton/DqButton.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/components/common/feedback/dialog/DqDialog.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/components/common/feedback/dialog/DqDialogTitle.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/redux/modules/lesson_info/lesson_info.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/redux/modules/user_info/user_info.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/views/LessonView/tracking.js */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/file-saver/FileSaver.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/react-icons/io5/index.esm.js (<- Module is referenced from these modules with unsupported syntax: ./node_modules/@dataquestio/dq-components/components/common/feedback/dialog/DqAlertDialog.js (referenced with cjs require)) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/react-redux/es/index.js (<- Module is referenced from these modules with unsupported syntax: ./node_modules/redux-auth-wrapper/helper/redirect.js (referenced with cjs require)) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/react-router/esm/react-router.js */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/react/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/reselect/lib/index.js (<- Module is not an ECMAScript module) */function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(781),l=n.n(o),i=n(35),c=n(16),u=n(25),s=n(10),d=n(23),f=n(746),m=n(708),p=n(14),y=n(165),g=n(264);function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var w={user_id:p.b.user_id,lessonInfo:m.c.lessonInfo},b=Object(s.createStructuredSelector)(w),q=function(e){var t=e.actionsConfirmText,n=e.feature,o=e.title,l=e.toggleEl,u=e.type,s=e.generic,d=e.showOverride,m=e.handleOnClose,p=e.handleOnConfirm,v=e.history,w=e.lessonInfo,b=h(Object(r.useState)(!l),2),q=b[0],x=b[1],E={download:a.a.createElement(i.IoCloudDownloadSharp,{className:"dq-h-12 dq-w-12"})};Object(r.useEffect)((function(){q&&f.a.paywallView({paywall_type:"dialog",location:window.location.href,lessonInfo:w})}),[w,q]),Object(r.useEffect)((function(){l||x(d)}),[d,l]);var S=function(){x(!1),m&&m()};return a.a.createElement(a.a.Fragment,null,l&&a.a.cloneElement(l,{onClick:function(){x(!0)}}),q&&a.a.createElement(y.a,{handleOnClose:S},a.a.createElement(g.a,{title:o,handleOnClose:S,small:!0}),a.a.createElement("div",{className:"dq-px-4 dq-pb-4 sm:dq-px-8 sm:dq-pb-8"},a.a.createElement("div",{className:"dq-flex dq-items-center dq-flex-col dq-mb-4"},a.a.createElement("div",{className:"dq-mx-auto"},E[u]),a.a.createElement("div",{className:"dq-font-bold dq-text-3xl dq-text-center dq-mt-4"},a.a.createElement("p",null,"You've discovered"),a.a.createElement("p",null,"a"," ",a.a.createElement("span",{className:"dq-text-purple"},"premium ",s?"content":"feature"),"!"))),a.a.createElement("div",{className:"dq-text-lg dq-text-center dq-px-2"},"Upgrade to ",n&&"".concat(n," and "),"unlock the full Dataquest catalog."),a.a.createElement("div",{className:"dq-mt-5 dq-flex dq-w-full"},a.a.createElement(c.a,{text:t,className:"dq-w-full dq-mt-3",onClick:function(){x(!1),p?p():v.push("/payment")}})))))};q.defaultProps={actionsConfirmText:"Go Premium",feature:"",title:"Premium feature",toggleEl:void 0,generic:!1,handleOnClose:function(){}},q.__docgenInfo={description:"",methods:[],displayName:"DqPaywallDialog",props:{actionsConfirmText:{defaultValue:{value:'"Go Premium"',computed:!1},required:!1,flowType:{name:"string"},description:"Customizes confirm button text"},feature:{defaultValue:{value:'""',computed:!1},required:!1,flowType:{name:"string"},description:"Add a feature description"},title:{defaultValue:{value:'"Premium feature"',computed:!1},required:!1,flowType:{name:"string"},description:"Add a title text"},toggleEl:{defaultValue:{value:"undefined",computed:!0},required:!1,flowType:{name:"any"},description:"Toggle component that controls wheter the dialog is visible or not"},generic:{defaultValue:{value:"false",computed:!1},required:!1,flowType:{name:"boolean"},description:"Select paywall type, generic paywall displays information about content instead of a feature"},handleOnClose:{defaultValue:{value:"() => {}",computed:!1},required:!1,flowType:{name:"signature",type:"function",raw:"any => void",signature:{arguments:[{name:"",type:{name:"any"}}],return:{name:"void"}}},description:"Function to execute when closing the dialog clicking the X icon or\nthe cancel button if handleOnCancel is not available"},type:{required:!0,flowType:{name:"string"},description:"Select paywall feature type"},showOverride:{required:!0,flowType:{name:"boolean"},description:"Override paywall show status"},handleOnConfirm:{required:!0,flowType:{name:"signature",type:"function",raw:"any => void",signature:{arguments:[{name:"",type:{name:"any"}}],return:{name:"void"}}},description:"Function to execute when clicking the save button"},history:{required:!0,flowType:{name:"any"},description:""},lessonInfo:{required:!0,flowType:{name:"Lesson"},description:""}}};var x=Object(u.o)(Object(d.connect)(b)(q));function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var O=function(e){var t=e.isSubscribed,n=e.pdfUrl,o=e.className,u=E(Object(r.useState)(!1),2),s=u[0],d=u[1];return t?a.a.createElement(c.a,{color:"gray",variant:"outline",size:"small",startIcon:a.a.createElement(i.IoCloudDownloadSharp,null),text:"Download as PDF",className:o,onClick:function(){d(!0),fetch(n).then((function(e){if(200!==e.status)throw Error("Bad response code for takeaways pdf");return e.blob()})).then((function(e){var t=n.split("/"),r=t[t.length-1];l.a.saveAs(e,r)})).catch(console.error).finally((function(){d(!1)}))},disabled:s}):a.a.createElement(x,{feature:"download takeaways",type:"download",toggleEl:a.a.createElement(c.a,{color:"gray",variant:"outline",size:"small",startIcon:a.a.createElement(i.IoCloudDownloadSharp,null),text:"Download as PDF",className:o})})};O.displayName="DownloadButton",O.__docgenInfo={description:"",methods:[],displayName:"DownloadButton"};t.a=O}}]);
//# sourceMappingURL=37.321b94166af9e9eab3c1.js.map